<mat-toolbar>
    <button mat-icon-button *ngIf="sidenav.mode==='over'" (click)="sidenav.toggle()">
        <mat-icon *ngIf="!sidenav.opened">menu</mat-icon>
        <mat-icon *ngIf="sidenav.opened">close</mat-icon>
    </button>
    <p class="header">Biblioteka</p>
</mat-toolbar>

<mat-sidenav-container>
    <mat-sidenav  #sidenav="matSidenav">
        <img class="avatar mat-elevation-z8" [src]="picture" (click)="showProfile()">
        <h4 class="name">{{fullname}}</h4>
        <p class="designation">{{email}}</p>
        <mat-divider></mat-divider>


        <button mat-button class="menu-button" (click)="dodjiKuci();showBook=true;updateBook=false;addBook=false">
            <mat-icon>home</mat-icon>
            <span>Home page</span>
           </button>
       <button mat-button class="menu-button" (click)="menjajPass()">
        <mat-icon>password</mat-icon>
        <span>Password</span>
       </button>
       <button mat-button class="menu-button" router-link="register">
        <mat-icon>search</mat-icon>
        <span>Search</span>
       </button>
       <button mat-button class="menu-button" (click)="addB()">
        <mat-icon>library_add</mat-icon>
        <span>Add book</span>
       </button>
       <button mat-button class="menu-button" (click)="addBook=false;updateBook=true;showBook=false">
        <mat-icon>update</mat-icon>
        <span>Update book</span>
       </button>
       <button mat-button class="menu-button">
        <mat-icon>library_books</mat-icon>
        <span>Books taken</span>
       </button>
       <button mat-button class="menu-button">
        <mat-icon>history</mat-icon>
        <span>History</span>
       </button>
       <button mat-button class="menu-button" (click)="odjava()">
        <mat-icon>logout</mat-icon>
        <span>Log out</span>
       </button>
    </mat-sidenav>
    <mat-sidenav-content>
        <div class="content mat-elevation-z4">
            <div *ngIf="showBook">
                <h3>Knjiga dana</h3><hr>
            <img id="bookPict" [src]="bookD.picture"><hr>
            <div style="font-size: 1rem;">
            <label>Naziv knjige:</label>{{bookD.name}}<br>
            <label>Autori knjige:</label>{{writerD}}<br>
            <label>Uspesnost:</label>{{bookD.taken}}<br></div>
            </div>
            <div *ngIf="addBook">
                
            <hr>
                <p>Ovde je dodavanje knjige</p>
                <label>Naziv knjige</label><input type="text" name="name" [(ngModel)]="name"><br>
                <label>Unesi prezime i ime writera</label><input type="text" name="writer" [(ngModel)]="writer"><br>
                <!-- <button (click)="unesiW()">Ubaci writera</button><br> -->
                <label>Unesi zanr</label><input type="text" name="style" [(ngModel)]="style"><br>
                <!-- <button (click)="unesiS()">Ubaci writera</button><br> -->
                <label>Izdavac</label><input type="text" name="publisher" [(ngModel)]="publisher"><br>
                <label>Godina</label><input type="number" name="year" [(ngModel)]="year"><br>
                <label>Jezik</label><input type="text" name="language" [(ngModel)]="language"><br>
                <label>Broj dostupnih knjiga</label><input type="number" name="number" [(ngModel)]="number"><br>
                <input #slikaUpload type="file" (change)="slikaDodata($event)" accept="image/jpg, image/png, image/jpeg">
                {{slikaPoruka}}
                <img *ngIf="slikaSacuvana" id="profile" [src]="putdoslike()" alt="Red dot" />
                <button (click)="book()">Dodaj knjigu</button>

            </div>
            <div *ngIf="updateBook" class="table-responsive">
                <table class="table">
                    <thead>
                    <tr>
                        <th>Book name</th>
                        <th>Writers</th>
                        <th>Styles</th>
                        <th>Publisher</th>
                        <th>Year</th>
                        <th>Language</th>
                        <th>Picture</th>
                        <th>Available</th>
                        <th>Update</th>
                        <!-- <th>Delete</th> -->
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let b of books">
                        <td>{{b.name}}</td>
                        <td>{{b.writer}}</td>
                        <td>{{b.style}}</td>
                        <td>{{b.publisher}}</td>
                        <td>{{b.year}}</td>
                        <td>{{b.language}}</td>
                        <td><img id="profile" [src]="b.picture"></td>
                        
                        <td>{{b.number}}</td>
                        <td><button (click)="promena(b);showBook=false">Update</button></td>
                        <!-- <td><button (click)="deleteUser(u)">Remove</button></td> -->
                    </tr>
                </tbody>
                </table>
    
    
    
                <div *ngIf="bo">
                    <label>Book name</label><input type="text" name="name" [(ngModel)]="name" ><br>
                    <label>Writers</label><input type="text" name="writer" [(ngModel)]="writer" ><br>
                    <label>Styles</label><input type="text" name="style" [(ngModel)]="style"><br>
                    <label>Publisher</label><input type="text" name="publisher" [(ngModel)]="publisher" ><br>
                    <label>Year</label><input type="number" name="year" [(ngModel)]="year" ><br>
                    <label>Language</label><input type="text" name="language" [(ngModel)]="language" ><br>
                    <label>Picture</label><img id="profile" [src]="bookPicture">  <input #slikaUpload type="file" (change)="slikaDodata($event)" accept="image/jpg, image/png, image/jpeg">
                    <label>Available</label><input type="number" name="number" [(ngModel)]="number" ><br>
                    {{slikaPoruka}} Nova profilna ->
                    <img *ngIf="slikaSacuvana" id="profile" [src]="putdoslike()" alt="Red dot" /><br>
                    
                    <!-- <input type="text" name="type" [(ngModel)]="type"><br> -->
                    
                </div>
                <button (click)="update()">Update all data</button>
            </div>
        </div>
    </mat-sidenav-content>
</mat-sidenav-container>